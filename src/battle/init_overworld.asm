
INIT_BATTLE_OVERWORLD: ;$C0B731
	REP #PROC_FLAGS::ACCUM8 | PROC_FLAGS::INDEX8 | PROC_FLAGS::CARRY
	RESERVE_STACK_SPACE_CLOBBER 18
	LDA .LOWORD(BATTLE_DEBUG)
	BEQL @UNKNOWN8
	LDA .LOWORD(DEBUG)
	BEQ @UNKNOWN1
	JSL UNKNOWN_EFE708
	CMP #$FFFF
	BEQ @UNKNOWN5
@UNKNOWN1:
	JSL INSTANT_WIN_CHECK
	CMP #$0000
	BEQ @UNKNOWN2
	JSL INSTANT_WIN_HANDLER
	STZ .LOWORD(BATTLE_DEBUG)
	BRA @UNKNOWN5
@UNKNOWN2:
	JSL INIT_BATTLE_COMMON
	TAX
	STX $10
	JSL UNKNOWN_C07B52
	STZ .LOWORD(OVERWORLD_STATUS_SUPPRESSION)
	LDA .LOWORD(TELEPORT_DESTINATION)
	BNE @UNKNOWN4
	LDX $10
	BEQ @UNKNOWN3
	LDA .LOWORD(DEBUG)
	BEQ @UNKNOWN8
	JSL DEBUG_CHECK_VIEW_CHARACTER_MODE
	CMP #$0000
	BNE @UNKNOWN8
@UNKNOWN3:
	JSL RELOAD_MAP
	LDX #$0001
	TXA
	JSL FADE_IN
	BRA @UNKNOWN5
@UNKNOWN4:
	JSL TELEPORT_MAINLOOP
@UNKNOWN5:
	LDA #$0000
	STA $0E
	BRA @UNKNOWN7
@UNKNOWN6:
	ASL
	TAX
	LDA #ENTITY_COLLISION_NO_OBJECT
	STA .LOWORD(ENTITY_COLLIDED_OBJECTS),X
	STZ .LOWORD(UNKNOWN_30X2_TABLE_41),X
	TXA
	CLC
	ADC #.LOWORD(ENTITY_SPRITEMAP_POINTER_HIGH)
	TAX
	LDA a:.LOWORD(RAM),X
	AND #$7FFF
	STA a:.LOWORD(RAM),X
	LDA $0E
	INC
	STA $0E
@UNKNOWN7:
	CMP #$0017
	BNE @UNKNOWN6
	STZ .LOWORD(OVERWORLD_STATUS_SUPPRESSION)
	JSL UNFREEZE_ENTITIES
	LDA #$0078
	STA .LOWORD(UNKNOWN_7E5D58)
	LDA #$FFFF
	STA .LOWORD(TOUCHED_ENEMY)
@UNKNOWN8:
	PLD
	RTL
